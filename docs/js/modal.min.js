var failure=document.querySelector(".modal--failure"),success=document.querySelector(".modal--success"),form=document.querySelector(".form"),closeFailure=failure.querySelector(".modal__close"),closeSuccess=success.querySelector(".modal__close"),firstname=form.querySelector("input[name=name]"),surname=form.querySelector("[name=surname]"),tel=form.querySelector("[name=tel]"),email=form.querySelector("[name=email]");localStorage.getItem("firstname")&&(firstname.value=localStorage.getItem("firstname")),localStorage.getItem("surname")&&(surname.value=localStorage.getItem("surname")),localStorage.getItem("tel")&&(tel.value=localStorage.getItem("tel")),localStorage.getItem("email")&&(email.value=localStorage.getItem("email")),closeFailure.addEventListener("click",function(evt){evt.preventDefault(),failure.classList.remove("modal--show")}),closeSuccess.addEventListener("click",function(evt){evt.preventDefault(),success.classList.remove("modal--show")}),window.addEventListener("keydown",function(evt){27===evt.keyCode&&(failure.classList.contains("modal--show")&&failure.classList.remove("modal--show"),success.classList.contains("modal--show")&&success.classList.remove("modal--show"))}),form.addEventListener("submit",function(evt){firstname.value&&surname.value&&tel.value&&email.value?(evt.preventDefault(),success.classList.add("modal--show")):(evt.preventDefault(),failure.classList.add("modal--show"),firstname.value?(firstname.classList.remove("input--invalid"),localStorage.setItem("firstname",firstname.value)):firstname.classList.add("input--invalid"),surname.value?(surname.classList.remove("input--invalid"),localStorage.setItem("surname",surname.value)):surname.classList.add("input--invalid"),tel.value?(tel.classList.remove("input--invalid"),localStorage.setItem("tel",tel.value)):tel.classList.add("input--invalid"),email.value?(email.classList.remove("input--invalid"),localStorage.setItem("email",email.value)):email.classList.add("input--invalid"))});